## Todo List
- [ ] 让动画跑起来
    - [ ] 注入新版本Runtime
    - [ ] 实在不行买一个Spine吧TAT

- [ ] 能力
    - [ ] 逍遥：下一张卡牌不消耗能量
    - [ ] 醉酒度：提升攻击，超过100时不能直走路
    - [ ] 诗兴：叠层获得逍遥

- [ ] 遗物
    - [ ] 灯
      - [X] 连续打出相同牌获得强化
      - [X] 连续打出不同类型牌获得**诗兴**
      - [X] 灯挑夜，箭如雨，大漠飞火。
    - [ ] 剑：灯的强化
      - [ ] **逍遥**可以获得力量
    - [ ] 米：获得50%血量，超出的：扣生命，加上限
    - [ ] 古旧铸币
      - [ ] 每回合获得4盾
      - [ ] 每层免疫3次攻击，破坏后获得力量
    - [ ] 画：选择变换一张牌 * 楼层次
    - [ ] 散佚诗简：加快**诗兴**积累速度
    - [ ] 名字没想好：可以存钱到下一局

- [ ] 药水

    - [ ] 龙泡泡
      - [ ] 年泡泡：获得**力量**？
      - [ ] 夕泡泡：**变化**牌
      - [ ] 令泡泡：加速叠醉酒度

- [ ] 事件
    - [ ] 砍商人

      - [x] 老弟你这遗物是金子做的还是银子做的呀
      - [x] 免费获得一个，商人减少
      - [x] 免费获得所有，失去商人

    - [ ] 宝箱怪

      - [x] 当你在房间中发现一坛陈年佳酿时，欣喜若狂。正当你迫不及待想要启封享用这美酒的时候，令人惊愕的一幕发生了——这坛子酒竟然"活"了过来！它不可思议地长出了手脚，似乎打算逃之夭夭，带着你梦寐以求的美酒远走高飞。
      - [x] 美梦成空：你目瞪口呆地看着这一切发生，简直不敢相信自己的眼睛。本以为终于可以品尝到这酒香四溢的佳酿，却眼睁睁看着它离你远去。一瞬间，失望和不甘充满了你的内心。你懊恼地叹了口气，感慨道："老天爷啊，这到嘴的美酒说没就没，实在是太可惜了！"
      - [x] 执意追酒：面对这匪夷所思的场景，你反而更加跃跃欲试。酒香扑鼻，勾起了你强烈的渴望。你舔了舔嘴唇，眼神坚定地盯着这个调皮的"酒坛子"，低声呢喃道："兄弟，你好香"说罢，你猛地向前一扑，试图擒获这个桀骜不驯的"美酒"，展开一场别开生面的追逐战。

    - [ ] 岁家人

      - [x] 你小心翼翼地走进了这间昏暗的房间。昏暗的光线从门口照进来，隐约勾勒出正前方那幅巨大的古画轮廓。NL 当你走近一看，画上竟然描绘着十二个人的面孔，每一张都栩栩如生，仿佛随时会从画中走出。NL 古画下方摆放着一张石桌，桌面上布满灰尘，但中央却空出了12块块区域，似乎是专门用来摆放贡品的地方。NL #r "献上贡品 吧"，一股莫名的力量驱使着你。

    - [ ] 龙泡泡

      - [x] 你走进一个温馨的小房间,发现了三个依偎在一起的龙泡泡。它们虽然个头不大,但各有特点。

        **年泡泡**正呜啊呜啊地叫着,似乎在幻想着自己变成一只**喷火巨兽**的模样。你看着它憨态可掬的样子,忍不住想逗一逗它。

        **夕泡泡**则安静地拿着画笔,对着画布发呆。看起来它陷入了艺术创作的瓶颈期,**灵感枯竭**,一筹莫展。

        **令泡泡**显得有些焦躁不安,不停地往一个**酒坛子**里钻,似乎在寻找什么。但那坛子看起来**空空如也**,令泡泡找不到它想要的东西。

        面对这三个可爱的小家伙,你的内心泛起一丝怜爱。你想着是否应该给它们一些帮助,让它们开心起来。

      - [x] [给予年泡泡辣椒] 你决定满足年泡泡的愿望。你从背包里拿出一个红彤彤的辣椒,递给年泡泡。它欢快地叫了一声,一口吞下辣椒,然后猛地喷出一小簇火苗!年泡泡兴奋地在房间里蹦跶,你收获了一个热情的新伙伴。

      - [x] [鼓励夕泡泡大胆创作] 你走到夕泡泡身边,轻轻拍了拍它的背,鼓励它不要放弃,要相信自己的创造力。你指着窗外的风景,告诉它大自然总能带来新的灵感。夕泡泡若有所思地点点头,重新拿起画笔。你的话语点亮了它的斗志。

      - [x] [给酒坛子里倒酒] 你猜测令泡泡是想喝点儿酒。你从背包里拿出一壶佳酿,打开酒坛子的盖子,把酒倒了进去。令泡泡欢呼雀跃,迫不及待地跳进坛子里,痛饮起来。它红润的脸庞洋溢着满足的笑容。你交到了一个酒肉朋友。

    - [ ] 玉门天灾

      - [x] 一声惊雷像是突然在耳边炸响，压住你的心跳。NL 只一瞬间，黑云压城，层层叠叠的气团硬生生把天空压垮，来回穿梭的弧形闪电狰狞着爪牙
    - [x] 解开葫芦满饮: 试着挡下这个小型天灾 百丈狂杀吹雨，咫尺惊雷连云。NL 他年挪盏飞残算，今宵环酒对高城。NL 天地入瓮瓶。

- [ ] 卡牌
    - [ ] 打击
    - [ ] 防御
    - 重进酒
    - 笑鸣瑟
    - 宁作吾
    - 飞花令
      - 飞花令人远,青鸟逐人来。出自王维的《送元二使安西》
    - 醉卧沙
      - 醉卧沙场君莫笑,古来征战几人回。出自王翰的《凉州词》
    - 邀明月
    - 花月夜
      - 春江花月夜,张若虚。这首词描写春夜景色,意境优美
    - 梦江南
      - 梦江南,秦观。这首词描绘了江南美景,令人向往)

- [ ] 强化学习

## 注入Spine-Runtime

要在 Slay the Spire 的 mod 中使用更新版本的 Spine 库替换旧版本,可以尝试以下几种方法:

1. 反编译和修改 desktop-1.0.jar:
- 使用类似 JD-GUI 的工具反编译 desktop-1.0.jar,得到源代码
- 在源代码中找到 Spine 相关的类和包,将其替换为新版本 Spine 库的对应内容
- 重新编译修改后的源代码,得到新的 jar 文件替换原有的 desktop-1.0.jar

2. 类加载器 (Classloader) 方案:
- 自定义一个类加载器,继承 URLClassLoader 或 ClassLoader
- 在加载器中先加载新版本的 Spine 库,再加载 desktop-1.0.jar,利用 Java 的双亲委派机制,使得新版本的类优先被加载
- 在 mod 代码中使用自定义加载器来加载和实例化 Spine 相关的类

3. 运行时替换方案:
- 在 mod 的初始化代码中,通过反射获取到旧版 Spine 库的类对象
- 使用反射或者 Unsafe 等机制,将类对象的 classLoader 替换为加载新版 Spine 库的类加载器
- 之后通过修改后的类加载器来加载和使用 Spine 相关功能

4. 字节码修改方案:
- 使用 ASM、Javassist 等字节码操作库,在 mod 加载时修改 desktop-1.0.jar 的字节码
- 将其中 Spine 相关类的常量池、父类、接口等信息替换为新版本 Spine 库中的定义
- 修改后的字节码在运行时会直接使用新版本的 Spine 实现

以上方案都需要对 Java 字节码、类加载机制有比较深入的了解,并且可能引入不稳定性,建议谨慎实施。

较为稳妥的建议是向游戏开发者提出更新 Spine 库的诉求,由官方在后续更新中升级 Spine 库的版本。或者在 mod 中对动画系统进行彻底重写,绕过 desktop-1.0.jar 中的实现。

希望这些信息对你的 mod 开发有所帮助。如果有任何其他问题,欢迎继续交流探讨。